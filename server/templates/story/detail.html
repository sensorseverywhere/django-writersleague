{% extends 'base.html' %}
{% load static %}
{% load markdown_extras %}

{% block title %}{{story.title}}{% endblock title %}

{% block content %}
<div class="container-fluid m-3">
    <div class="row">
        <div class="col-md-10 offset-1">
            <h2>{{ story.title }}</h2>
            <div class="row">
                <div class="col-md-11">
                    {{ story.content|markdown|safe }}
                </div>
                <div class="col-md-1 d-flex flex-column">
                    <form method='POST' action="{% url 'story:story_upvote' story.id %}"> 
                        {{ upvote_form.as_p }}
                        {% csrf_token %}
                        <input class="btn" type='submit' value='up'>
                    </form>
                    <span class="d-flex justify-content-center">
                        {{ story.votes }}
                        <p>num votes {{num_votes}}</p> 
                    </span> 
                    <form method='POST' action="{% url 'story:story_downvote' story.id %}">
                        {{ downvote_form.as_p }}
                        {% csrf_token %}
                        <input class="btn" type='submit' value='down'>
                    </form>
                  
                    {% if user.is_authenticated %}
                    <a href="#" class="d-flex justify-content-center">
                        <i class="fa fa-caret-up fa-2x"></i>
                    </a>
                    <span class="d-flex justify-content-center">
                        {{ story.votes }}
                    </span>
                    <a href="#" class="d-flex justify-content-center">
                        <i class="fa fa-caret-down fa-2x"></i>
                    </a>
                    
                    {% endif %}
                </div>
            </div>
           
        </div>
    </div>
</div>

{% endblock content %}